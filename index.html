<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your Move, Player 2</title>

<style>
@font-face {
  font-family: "ArcadeClassic";
  src: url("fonts/ArcadeClassic.woff2") format("woff2"),
       url("fonts/ArcadeClassic.woff") format("woff");
}

body {
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:black;
  font-family:"ArcadeClassic", monospace;
  color:white;
  overflow:hidden;
}

/* CRT Flicker */
body::after{
  content:"";
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.03),
    rgba(255,255,255,0.03) 1px,
    transparent 1px,
    transparent 3px
  );
  pointer-events:none;
}

.container {
  width:95vw;
  max-width:520px;
  height:92vh;
  border:6px solid lime;
  box-shadow:0 0 20px lime;
  padding:20px;
  text-align:center;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  background:black;
}

.hidden { display:none; }

h1 { font-size:30px; margin-bottom:20px; }

/* Buttons */
button {
  width:100%;
  margin:8px 0;
  padding:12px;
  background:black;
  border:3px solid #ff7a00;
  color:lime;
  font-family:"ArcadeClassic", monospace;
  cursor:pointer;
}

button:hover {
  background:lime;
  color:black;
}

/* Score Meter */
.meter-container {
  width:100%;
  height:20px;
  border:2px solid #ff7a00;
  margin-bottom:15px;
}

.meter-bar {
  height:100%;
  width:0%;
  background:lime;
  transition:0.3s;
}

.score-number {
  margin-bottom:10px;
  color:#ff7a00;
}

/* Ticker */
.ticker {
  margin:20px 0;
  padding:15px;
  border:2px solid lime;
  min-height:40px;
}

.result {
  margin-top:20px;
  padding:15px;
  border:2px solid lime;
}

/* GAME OVER */
.gameover {
  font-size:26px;
  color:red;
  animation:blink 1s infinite;
}

@keyframes blink {
  50% {opacity:0.2;}
}
</style>
</head>
<body>

<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8c8a73467.mp3">
</audio>

<audio id="lockSound">
  <source src="https://assets.mixkit.co/active_storage/sfx/2018/2018-preview.mp3">
</audio>

<div class="container">

<!-- START -->
<div id="startScreen">
  <h1>YOUR MOVE, PLAYER 2</h1>
  <p>INSERT COIN</p>
  <button onclick="startGame()">START GAME</button>
</div>

<!-- MAIN -->
<div id="mainScreen" class="hidden">
  <h1>INCREASE POINTS!</h1>

  <div class="score-number">Score: <span id="score">0</span>/100</div>
  <div class="meter-container">
    <div id="meterBar" class="meter-bar"></div>
  </div>

  <button onclick="losePoints()">OH NO, THE CONVO DIED</button>
  <button onclick="goTo('complimentScreen')">GIVE A COMPLIMENT</button>
  <button onclick="addScore(20)">PLAN A DATE</button>
  <button onclick="resetGame()">END GAME</button>
</div>

<!-- CONVO DIED -->
<div id="deadScreen" class="hidden">
  <h1>ASK ABOUT...</h1>
  <button onclick="generateTicker()">CLICK TO GENERATE</button>
  <div class="ticker" id="tickerBox">---</div>
  <button onclick="goTo('mainScreen')">BACK</button>
</div>

<!-- COMPLIMENT -->
<div id="complimentScreen" class="hidden">
  <h1>COMPLIMENT HER ON...</h1>
  <button onclick="showCompliments()">CLICK</button>

  <div id="complimentOptions" class="hidden">
    <button onclick="randomCompliment('personality')">PERSONALITY</button>
    <button onclick="randomCompliment('appearance')">APPEARANCE</button>
    <button onclick="randomCompliment('banter')">BANTER</button>
  </div>

  <div id="complimentResult" class="result hidden"></div>
  <button onclick="goTo('mainScreen')">BACK</button>
</div>

<!-- GAME OVER -->
<div id="gameOverScreen" class="hidden">
  <div class="gameover">GAME OVER</div>
  <button onclick="resetGame()">TRY AGAIN</button>
</div>

</div>

<script>
let score = 0;

function startGame(){
  document.getElementById("bgMusic").play();
  goTo('mainScreen');
}

function goTo(screen){
  document.querySelectorAll('.container > div').forEach(div=>{
    div.classList.add('hidden');
  });
  document.getElementById(screen).classList.remove('hidden');
}

function updateMeter(){
  document.getElementById("score").innerText = score;
  document.getElementById("meterBar").style.width = score + "%";
  if(score <= 0){
    goTo('gameOverScreen');
  }
}

function addScore(points){
  score += points;
  if(score > 100) score = 100;
  updateMeter();
}

function losePoints(){
  score -= 20;
  if(score < 0) score = 0;
  goTo('deadScreen');
  updateMeter();
}

/* TICKER */
const convoTopics = [
  "Her zodiac sign",
  "Her favourite cocktail",
  "What suburb she lives in",
  "A movie she watched recently",
  "Her favourite emoji at work",
  "Her favourite meal to cook"
];

function generateTicker(){
  let ticker = document.getElementById("tickerBox");
  let i = 0;
  let spin = setInterval(()=>{
    ticker.innerText = convoTopics[Math.floor(Math.random()*convoTopics.length)];
    i++;
    if(i>15){
      clearInterval(spin);
      document.getElementById("lockSound").play();
      addScore(10);
    }
  },100);
}

/* COMPLIMENTS */
const compliments = {
  personality:["You're thoughtful.","You’re emotionally intelligent.","You have depth.","You’re grounded.","You’re calm.","You’re confident.","You’re kind.","You’re perceptive.","You listen well.","You’re authentic."],
  appearance:["You have a great smile.","You look incredible.","Your style suits you.","Your eyes stand out.","You glow.","You look powerful.","You dress well.","You’re radiant.","You look sharp.","You carry yourself well."],
  banter:["You’re witty.","You flirt well.","You’re playful.","You’re quick.","You match energy.","You escalate perfectly.","You’re charming.","You’re sharp.","You’re smooth.","You’re funny."]
};

function showCompliments(){
  document.getElementById("complimentOptions").classList.remove("hidden");
}

function randomCompliment(type){
  let list = compliments[type];
  let result = list[Math.floor(Math.random()*list.length)];
  let box = document.getElementById("complimentResult");
  box.innerText = result;
  box.classList.remove("hidden");
  document.getElementById("lockSound").play();
  addScore(10);
}

function resetGame(){
  score = 0;
  updateMeter();
  goTo('startScreen');
}
</script>

</body>
</html>
