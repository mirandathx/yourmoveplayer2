<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your Move, Player 2</title>
<style>
@font-face { 
  font-family: "ArcadeClassic OFF"; 
  src: url("fonts/ArcadeClassic.woff2") format("woff2"),
       url("fonts/ArcadeClassic.woff") format("woff");
}

body, h1, h2, p, button, .score-number, .ticker {
  font-family: "ArcadeClassic OFF", monospace !important;
  margin:0; padding:0;
}

body{
  margin:0; height:100vh; display:flex; justify-content:center; align-items:center; 
  overflow:hidden; 
  background:radial-gradient(circle at top,#ff00c8,#ff7a00 40%,#1a001f 80%); 
  color:white;
}

/* Grid background */
.grid{
  position:fixed; bottom:0; width:200%; height:60%;
  background:linear-gradient(to right,#00fff7 1px,transparent 1px),
             linear-gradient(to top,#00fff7 1px,transparent 1px);
  background-size:40px 40px; 
  transform:perspective(400px) rotateX(60deg); 
  animation:moveGrid 6s linear infinite; 
  opacity:0.4;
}
@keyframes moveGrid{from{background-position:0 0;} to{background-position:0 40px;}}
body::after{
  content:""; 
  position:fixed; 
  width:100%; 
  height:100%; 
  background:repeating-linear-gradient(to bottom,rgba(255,255,255,0.03),rgba(255,255,255,0.03) 1px,transparent 1px,transparent 3px); 
  pointer-events:none;
}

/* Container */
.container{
  width:90vw; max-width:400px; height:80vh; border:6px solid #00fff7; box-shadow:0 0 25px #ff00c8; 
  background:black;
  padding:20px; text-align:center; display:flex; flex-direction:column; justify-content:center; align-items:center; z-index:2;
}
@media(max-width:600px){
  .container{width:95vw; height:70vh;}
}

/* Hidden elements */
.hidden{display:none;}

/* Typography */
h1,h2{color:#ff00c8;}
p{color:#00fff7;}

/* Buttons consistent width */
button{
  width:90%; max-width:300px; padding:12px; margin:8px 0; background:black; border:3px solid #ff7a00; color:#00fff7; cursor:pointer;
}
button:hover{background:#00fff7;color:black;}

/* Score */
.score-number{color:#ff7a00;margin:6px; font-size:18px;}
.score-number.glow{text-shadow:0 0 15px orange; transition:0.3s;}

/* Ticker boxes consistent width */
.ticker{
  width:90%; max-width:300px; border:2px solid #00fff7; padding:15px; margin:15px 0; min-height:40px; 
  color:white; font-size:16px; height:50px; display:flex; align-items:center; justify-content:center;
}

/* Nice popup at bottom */
.nice-text{
  position:absolute;
  bottom:10px;
  font-size:20px;
  color:yellow;
  animation:fadeUp 0.8s forwards;
  text-shadow:0 0 8px #fff;
}
@keyframes fadeUp{
  0%{opacity:0; transform:translateY(10px);}
  50%{opacity:1; transform:translateY(-10px);}
  100%{opacity:0; transform:translateY(-20px);}
}

/* Celebration text bounce */
.celebration-text{
  position:absolute; top:20%; left:50%; transform:translateX(-50%); 
  font-size:36px; color:yellow; text-shadow:0 0 10px #fff; animation:bounce 0.8s forwards;
}
@keyframes bounce{
  0%{transform:translate(-50%,0) scale(0);}
  50%{transform:translate(-50%,-30px) scale(1.5);}
  100%{transform:translate(-50%,-10px) scale(1);}
}

/* Confetti */
.confetti-piece{position:absolute; top:0; width:6px; height:10px; opacity:0.9; animation:fall 1s linear forwards;}
@keyframes fall{0%{transform:translateY(0px) rotate(0deg);}100%{transform:translateY(120px) rotate(360deg);}

/* Green start again text */
.start-again{color:#00ff00; font-size:14px; margin-top:5px;}
</style>
</head>
<body>
<div class="grid"></div>
<div class="container">

<!-- START SCREEN -->
<div id="startScreen">
<h2>YOUR MOVE, PLAYER 2</h2>
<p>LEVEL UP THE TALKING STAGE</p>
<p>ðŸ§‘ðŸ“±ðŸ’¬ðŸ“±ðŸ‘©</p>
<button onclick="startGame()">START GAME</button>
</div>

<!-- MAIN SCREEN -->
<div id="mainScreen" class="hidden">
<h1>AVOID WIPEOUT</h1>
<p>Choose your move to score points</p>
<div class="score-number">Score: <span id="score">0</span>/100</div>
<p class="start-again">start again</p>
<button onclick="goTo('deadScreen')">OH NO, THE CONVO DIED</button>
<button onclick="goTo('complimentScreen')">GIVE A COMPLIMENT</button>
<button onclick="goTo('planScreen')">PLAN A DATE</button>
<button onclick="endGame()">END GAME</button>
</div>

<!-- DEAD SCREEN -->
<div id="deadScreen" class="hidden">
<h1>ASK THEM ABOUT</h1>
<div class="score-number">Score: <span id="scoreDead">0</span>/100</div>
<div class="ticker" id="tickerBox">---</div>
<button onclick="goTo('mainScreen')">BACK</button>
<button onclick="goAgain('tickerBox','scoreDead')">GO AGAIN</button>
</div>

<!-- COMPLIMENT SCREEN -->
<div id="complimentScreen" class="hidden">
<h1>GIVE A COMPLIMENT</h1>
<div class="score-number">Score: <span id="scoreCompliment">0</span>/100</div>
<div class="ticker" id="complimentTicker">---</div>
<button onclick="goTo('mainScreen')">BACK</button>
<button onclick="goAgain('complimentTicker','scoreCompliment')">GO AGAIN</button>
</div>

<!-- PLAN SCREEN -->
<div id="planScreen" class="hidden">
<h1>PLAN A DATE</h1>
<div class="score-number">Score: <span id="scorePlan">0</span>/100</div>
<div class="ticker" id="planTicker">---</div>
<button onclick="goTo('mainScreen')">BACK</button>
<button onclick="goAgain('planTicker','scorePlan')">GO AGAIN</button>
</div>

<!-- AUDIO -->
<audio id="lockSound"><source src="https://assets.mixkit.co/active_storage/sfx/2018/2018-preview.mp3"></audio>

<script>
let score = 0;

// Navigation
function startGame(){
    score = 0;
    updateAllScores();
    goTo('mainScreen');
}

function goTo(screen){
    document.querySelectorAll('.container > div').forEach(d=>d.classList.add('hidden'));
    document.getElementById(screen).classList.remove('hidden');

    // Clear previous results when entering randomizer screens
    if(screen==='deadScreen') resetTicker('tickerBox','scoreDead');
    if(screen==='complimentScreen') resetTicker('complimentTicker','scoreCompliment');
    if(screen==='planScreen') resetTicker('planTicker','scorePlan');
}

// Reset ticker display
function resetTicker(tickerId, scoreId){
    document.getElementById(tickerId).innerText="---";
    document.getElementById(scoreId).innerText=score;
    runSlot(tickerId, scoreId);
}

// GO AGAIN clears and starts
function goAgain(tickerId, scoreId){
    document.getElementById(tickerId).innerText="---";
    runSlot(tickerId, scoreId);
}

// Update all score displays
function updateAllScores(){
    document.getElementById("score").innerText = score;
    document.getElementById("scoreDead").innerText = score;
    document.getElementById("scoreCompliment").innerText = score;
    document.getElementById("scorePlan").innerText = score;
}

// Randomizer
function runSlot(tickerId, scoreId){
    const tickers = {
        'tickerBox': ["Favourite secret snack","Zodiac sign","Go-to karaoke song","Most hated email sign-off","Favourite holiday","Music they're listening to","How others describe their eye colour","Favourite colour to wear","Film they enjoyed recently","Overrated/underrated thing","Your coffee order"],
        'complimentTicker': ["Your memes are top-tier.","That's a great coffee order.","Your Spotify playlists are great.","You have great taste.","You're the most interesting person on here.","You have a great laugh.","You're like a walking good mood.","You have perfect snack taste.","You'd be really fun on a date.","Your eyes are so pretty.","You're really funny.","You're witty AF."],
        'planTicker': ["Beach day","Stroll through gardens","Watch a movie","Night in & cook","Cocktails & bar","Pub trivia showdown","Pool game","Arcade showdown","Art gallery"]
    };
    const ticker = document.getElementById(tickerId);
    const scoreDisplay = document.getElementById(scoreId);
    let spins = 0;
    let totalSpins = 30 + Math.floor(Math.random()*10); // slower
    const interval = setInterval(()=>{
        ticker.innerText = tickers[tickerId][Math.floor(Math.random()*tickers[tickerId].length)];
        spins++;
        if(spins > totalSpins){
            clearInterval(interval);
            score += 20;
            if(score>100) score=100;
            updateAllScores();

            scoreDisplay.classList.add('glow');
            setTimeout(()=>scoreDisplay.classList.remove('glow'),500);
            showNice();

            const sound = document.getElementById("lockSound");
            sound.volume = 0.5;
            sound.currentTime = 0;
            sound.play();

            if(score===50) showCelebration("Wahoo!", true);
            if(score===100) showCelebration("MAX SCORE!", false);
        }
    },40); // slower
}

// Nice popup
function showNice(){
    const nice = document.createElement("div");
    nice.className="nice-text";
    nice.innerText="nice";
    document.querySelector(".container").appendChild(nice);
    setTimeout(()=>nice.remove(),800);
}

// Celebration
function showCelebration(text, mini){
    const elem = document.createElement("div");
    elem.className="celebration-text";
    elem.innerText=text;
    document.body.appendChild(elem);
    setTimeout(()=>elem.remove(),1200);
    if(mini) showMiniConfetti(); else showConfetti();
}

// Confetti
function showMiniConfetti(){
    for(let i=0;i<20;i++){
        const confetti = document.createElement("div");
        confetti.className="confetti-piece";
        confetti.style.left=Math.random()*100+"%";
        confetti.style.backgroundColor=`hsl(${Math.random()*360},100%,50%)`;
        confetti.style.width="4px"; confetti.style.height="6px";
        document.body.appendChild(confetti);
        setTimeout(()=>confetti.remove(),1000);
    }
}
function showConfetti(){
    for(let i=0;i<50;i++){
        const confetti = document.createElement("div");
        confetti.className="confetti-piece";
        confetti.style.left=Math.random()*100+"%";
        confetti.style.backgroundColor=`hsl(${Math.random()*360},100%,50%)`;
        confetti.style.width="6px"; confetti.style.height="10px";
        document.body.appendChild(confetti);
        setTimeout(()=>confetti.remove(),1500);
    }
}

// End game
function endGame(){
    window.open('https://www.wikihow.com/Be-Single-and-Happy','_blank','width=800,height=600');
}
</script>
</body>
</html>
