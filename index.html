<!DOCTYPE html>
<html>
<head>
<title>Your Move, Player 2</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:'Courier New', monospace;
  text-align:center;
  color:#fff;
  overflow:hidden;
  background: linear-gradient(-45deg,#ff00cc,#3333ff,#00ffff,#ff0080);
  background-size:400% 400%;
  animation:gradientMove 12s ease infinite;
}

@keyframes gradientMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.hidden{display:none;}

h1{
  margin-top:40px;
  text-shadow:0 0 15px #00ffff;
}

/* 8-BIT COIN */
.coin{
  width:100px;
  height:100px;
  margin:40px auto;
  background: radial-gradient(circle at 30% 30%, #fffacd, gold 60%, #b8860b);
  border:6px solid #ffd700;
  border-radius:50%;
  animation:spinCoin 1s infinite linear;
  box-shadow:0 0 20px gold;
}

@keyframes spinCoin{
  0%{ transform:rotateY(0deg) scaleX(1); }
  50%{ transform:rotateY(90deg) scaleX(0.2); }
  100%{ transform:rotateY(180deg) scaleX(1); }
}

.insert-text{
  font-size:22px;
  animation:blink 1s infinite;
  text-shadow:0 0 10px yellow;
}

@keyframes blink{
  50%{opacity:0;}
}

button{
  display:block;
  margin:15px auto;
  padding:15px 30px;
  font-size:18px;
  background:black;
  border:3px solid #00ffff;
  color:#00ffff;
  cursor:pointer;
}
button:hover{
  background:#00ffff;
  color:black;
  box-shadow:0 0 15px #00ffff;
}

#score{
  font-size:22px;
  margin:20px;
  text-shadow:0 0 8px yellow;
}

.ticker{
  font-size:22px;
  margin:20px;
  height:40px;
}

.rarity{
  font-size:18px;
  margin-top:5px;
}
.common{color:#ccc;}
.rare{color:#00ffff;}
.legendary{color:gold;text-shadow:0 0 15px gold;}

</style>
</head>
<body>

<audio id="coinSound" src="https://www.soundjay.com/misc/sounds/coin-drop-4.mp3"></audio>
<audio id="lockSound" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>

<!-- START SCREEN -->
<div id="startScreen">
  <h1>YOUR MOVE, PLAYER 2</h1>

  <div class="coin" id="coinSprite"></div>

  <div class="insert-text">INSERT COIN</div>

  <button onclick="insertCoin()">START GAME</button>
</div>

<!-- MAIN SCREEN -->
<div id="mainScreen" class="hidden">
  <h1>INCREASE POINTS</h1>
  <div id="score">Score: 0</div>

  <button onclick="goToConvo()">OH NO, THE CONVO DIED</button>
  <button onclick="goToCompliment()">GIVE A COMPLIMENT</button>
  <button onclick="planDate()">PLAN A DATE</button>
  <button onclick="endGame()">END GAME</button>
</div>

<!-- CONVO -->
<div id="convoScreen" class="hidden">
  <h1>ASK ABOUT...</h1>
  <button onclick="generatePrompt()">CLICK TO GENERATE</button>
  <div id="promptResult" class="ticker"></div>
  <button onclick="goToMain()">BACK</button>
</div>

<!-- COMPLIMENT -->
<div id="complimentScreen" class="hidden">
  <h1>SLOT COMPLIMENT</h1>
  <button onclick="spinCompliment()">GENERATE COMPLIMENT</button>
  <div id="complimentResult" class="ticker"></div>
  <div id="rarityLabel" class="rarity"></div>
  <button onclick="goToMain()">BACK</button>
</div>

<!-- END -->
<div id="endScreen" class="hidden">
  <h1 id="endingTitle"></h1>
  <p id="endingText"></p>
  <button onclick="restart()">PLAY AGAIN</button>
</div>

<script>
let score=0;

function insertCoin(){
  document.getElementById("coinSound").play();

  const coin=document.getElementById("coinSprite");
  coin.style.animation="none";
  coin.style.transform="translateY(150px) scale(0.5)";
  coin.style.transition="0.6s ease-in";

  setTimeout(()=>{
    document.getElementById("startScreen").classList.add("hidden");
    document.getElementById("mainScreen").classList.remove("hidden");
  },600);
}

function hideAll(){
  document.getElementById("mainScreen").classList.add("hidden");
  document.getElementById("convoScreen").classList.add("hidden");
  document.getElementById("complimentScreen").classList.add("hidden");
  document.getElementById("endScreen").classList.add("hidden");
}

function goToMain(){ hideAll(); document.getElementById("mainScreen").classList.remove("hidden"); }
function goToConvo(){ hideAll(); document.getElementById("convoScreen").classList.remove("hidden"); }
function goToCompliment(){ hideAll(); document.getElementById("complimentScreen").classList.remove("hidden"); }

function addScore(p){
  score+=p;
  document.getElementById("score").innerText="Score: "+score;
}

const prompts=[
"Zodiac sign",
"Favourite cocktail",
"What suburb they live in",
"Movie watched recently",
"Favourite emoji at work",
"Favourite meal to cook"
];

function generatePrompt(){
  let r=prompts[Math.floor(Math.random()*prompts.length)];
  document.getElementById("promptResult").innerText=r;
  addScore(5);
}

const compliments=[
{text:"You're magnetic.",rarity:"common",points:10},
{text:"You have elite taste.",rarity:"rare",points:20},
{text:"You're unforgettable.",rarity:"legendary",points:40},
{text:"Main character energy unlocked.",rarity:"legendary",points:40},
{text:"You're dangerously witty.",rarity:"rare",points:20},
{text:"Your energy is contagious.",rarity:"common",points:10}
];

function spinCompliment(){
  let ticker=document.getElementById("complimentResult");
  let rarityLabel=document.getElementById("rarityLabel");

  let interval=setInterval(()=>{
    let temp=compliments[Math.floor(Math.random()*compliments.length)];
    ticker.innerText=temp.text;
  },100);

  setTimeout(()=>{
    clearInterval(interval);
    let final=compliments[Math.floor(Math.random()*compliments.length)];
    ticker.innerText=final.text;
    rarityLabel.innerText=final.rarity.toUpperCase();
    rarityLabel.className="rarity "+final.rarity;
    addScore(final.points);
    document.getElementById("lockSound").play();
  },1500);
}

function planDate(){
  addScore(20);
  if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(function(pos){
      window.open(`https://www.google.com/maps/search/dates+near+me/@${pos.coords.latitude},${pos.coords.longitude},14z`);
    },function(){
      window.open("https://www.google.com/maps/search/dates+near+me");
    });
  } else {
    window.open("https://www.google.com/maps/search/dates+near+me");
  }
}

function endGame(){
  hideAll();
  document.getElementById("endScreen").classList.remove("hidden");

  let title="",text="";
  if(score<30){ title="GAME OVER"; text="You fumbled."; }
  else if(score<80){ title="SOLID PLAYER"; text="Strong potential."; }
  else{ title="RIZZ MASTER"; text="Chemistry secured."; }

  document.getElementById("endingTitle").innerText=title;
  document.getElementById("endingText").innerText=text;
}

function restart(){
  score=0;
  document.getElementById("score").innerText="Score: 0";
  hideAll();
  document.getElementById("startScreen").classList.remove("hidden");
}
</script>

</body>
</html>
