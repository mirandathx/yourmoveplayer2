<style>
.container{
  width:95vw; max-width:520px; height:92vh; border:6px solid #00fff7; box-shadow:0 0 25px #ff00c8; 
  background: rgba(0,0,0,0.5); /* 50% opacity */
  padding:20px; text-align:center; display:flex; flex-direction:column; justify-content:center; align-items:center; z-index:2;
}

/* Score bar glow effect */
.meter-bar.glow{
  box-shadow: 0 0 15px 5px orange;
  transition:0.3s;
}

/* "Nice" popup text under meter */
.nice-text{
  position:relative;
  font-size:20px;
  color:yellow;
  margin-top:5px;
  animation:fadeUp 0.8s forwards;
  text-shadow:0 0 8px #fff;
}
@keyframes fadeUp{
  0%{opacity:0; transform:translateY(10px);}
  50%{opacity:1; transform:translateY(-10px);}
  100%{opacity:0; transform:translateY(-20px);}
}
</style>

<script>
// Reusable function for glow + "nice"
function showNice(){
    const meter = document.getElementById("meterBar");
    meter.classList.add("glow");
    setTimeout(()=>meter.classList.remove("glow"), 500);

    const nice = document.createElement("div");
    nice.className="nice-text";
    nice.innerText="nice";
    document.querySelector(".container").appendChild(nice);
    setTimeout(()=>nice.remove(), 800);
}

// Update existing CLICK TO GENERATE events
document.getElementById("generateTickerBtn").addEventListener("click", ()=>{
    let i=0; const ticker = document.getElementById("tickerBox");
    const interval = setInterval(()=>{
        ticker.innerText = convoTopics[Math.floor(Math.random()*convoTopics.length)];
        i++; 
        if(i>15){ 
            clearInterval(interval); 
            addScore(10); 
            document.getElementById("lockSound").play();
            showNice(); // Glow + nice text
        }
    },100);
});

document.getElementById("generateComplimentBtn").addEventListener("click", ()=>{
    let i=0; const ticker = document.getElementById("complimentTicker");
    const interval = setInterval(()=>{
        ticker.innerText = compliments[Math.floor(Math.random()*compliments.length)];
        i++; 
        if(i>15){ 
            clearInterval(interval); 
            addScore(10); 
            document.getElementById("lockSound").play();
            showNice(); // Glow + nice text
        }
    },100);
});

document.getElementById("generatePlanBtn").addEventListener("click", ()=>{
    let i=0; const ticker = document.getElementById("planTicker");
    const interval = setInterval(()=>{
        ticker.innerText = plans[Math.floor(Math.random()*plans.length)];
        i++; 
        if(i>15){ 
            clearInterval(interval); 
            addScore(10); 
            document.getElementById("lockSound").play();
            showNice(); // Glow + nice text
        }
    },100);
});
</script>
