<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Player 2: Your Move</title>
<style>
body{
  margin:0;
  font-family:'Press Start 2P', cursive;
  background:radial-gradient(circle at center,#ff00c8 0%,#ff7a00 40%,#111 80%);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.grid{
  position:fixed;
  bottom:0;
  width:200%;
  height:60%;
  background:
    linear-gradient(to right, limegreen 1px, transparent 1px),
    linear-gradient(to top, limegreen 1px, transparent 1px);
  background-size:40px 40px;
  transform:perspective(400px) rotateX(60deg);
  animation:moveGrid 6s linear infinite;
  opacity:0.4;
  z-index:0;
}
@keyframes moveGrid{
  from{background-position:0 0;}
  to{background-position:0 40px;}
}
.arcade{
  background:black;
  border:6px solid limegreen;
  padding:20px;
  text-align:center;
  max-width:480px;
  width:90vw;
  color:white;
  position:relative;
  z-index:1;
}
h1{font-size:20px;color:#ff7a00;text-shadow:3px 3px limegreen;margin-bottom:20px;}
button{
  display:block;
  width:100%;
  padding:16px;
  margin:10px 0;
  font-family:'Press Start 2P', cursive;
  font-size:16px;
  border:4px solid #ff7a00;
  background:black;
  color:limegreen;
  cursor:pointer;
  border-radius:4px;
}
button:hover{background:limegreen;color:black;}
.hidden{display:none;}
.score{color:#ff7a00;margin:12px 0;font-size:18px;}
.overlay{
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  background:black;
  border:6px solid limegreen;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:2;
  padding:20px;
}
.overlay button{width:70%; margin-top:10px;}
.pixel-man{
  width:64px;
  height:64px;
  margin:20px auto;
  background:url('images/pixel-man.png') no-repeat center/contain;
  transition:transform 0.3s ease;
}
@media screen and (max-width:480px){
  h1{font-size:18px;}
  button{font-size:18px;padding:18px;}
  .score{font-size:20px;}
  .pixel-man{width:48px;height:48px;}
}
</style>
</head>
<body>

<div class="grid"></div>

<div class="arcade">

  <!-- START SCREEN -->
  <div id="startScreen">
    <h1>PLAYER 2: YOUR MOVE</h1>
    <button onclick="startGame()">START GAME</button>
  </div>

  <!-- GAME SCREEN -->
  <div id="gameScreen" class="hidden">
    <h1>TALKING STAGE ACTIVE</h1>
    <div class="score">Score: <span id="score">0</span>/100</div>
    <div class="pixel-man" id="pixelMan"></div>
    <button onclick="playerAction('complimentOverlay')">GIVE COMPLIMENT</button>
    <button onclick="playerAction('questionOverlay')">ASK QUESTION</button>
    <button onclick="planDate()">PLAN DATE</button>
  </div>

  <!-- COMPLIMENT OVERLAY -->
  <div id="complimentOverlay" class="overlay hidden">
    <h2>Give Compliment</h2>
    <p>1. I like your brain.</p>
    <p>2. You looked great.</p>
    <button onclick="addScoreAndClose(20,'complimentOverlay')">[Compliment given]</button>
    <button onclick="closeOverlay('complimentOverlay')">BACK</button>
  </div>

  <!-- QUESTION OVERLAY -->
  <div id="questionOverlay" class="overlay hidden">
    <h2>Ask Question</h2>
    <p>1. How was your weekend?</p>
    <p>2. Do you want to go on a date soon?</p>
    <button onclick="addScoreAndClose(20,'questionOverlay')">[Question asked]</button>
    <button onclick="closeOverlay('questionOverlay')">BACK</button>
  </div>

</div>

<audio id="coinSound" src="audio/coin.mp3"></audio>
<audio id="wahooSound" src="audio/wahoo.mp3"></audio>
<audio id="bgMusic" src="audio/bgMusic.mp3" loop></audio>

<script>
let score=0;
const bgMusic = document.getElementById('bgMusic');
const pixelMan = document.getElementById('pixelMan');

function startGame(){
  document.getElementById('startScreen').classList.add('hidden');
  document.getElementById('gameScreen').classList.remove('hidden');
  bgMusic.volume=0.2;
  bgMusic.play().catch(()=>{});
  document.getElementById('coinSound').play();
}

function playWahoo(){ const a=document.getElementById('wahooSound'); a.currentTime=0; a.play(); }
function walkMan(){ pixelMan.style.transform="translateY(-5px) translateX(5px)"; setTimeout(()=>{pixelMan.style.transform="translateY(0) translateX(0)";},300); }

function playerAction(overlayId){ playWahoo(); walkMan(); openOverlay(overlayId); }
function planDate(){ score+=30;if(score>100)score=100;document.getElementById('score').innerText=score; playWahoo(); walkMan(); }

function openOverlay(id){ document.getElementById(id).classList.remove('hidden'); }
function closeOverlay(id){ document.getElementById(id).classList.add('hidden'); }
function addScoreAndClose(points,id){ score+=points;if(score>100)score=100;document.getElementById('score').innerText=score; closeOverlay(id);}
</script>
</body>
</html>
